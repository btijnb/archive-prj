<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">
	<select id="getMaxBoardNo" resultType="Integer">
		select max(board_no) from board
	</select>
	<insert id="insertBoard" parameterType="board">
		insert into board values(#{board_no}, #{board_title}, #{board_content}, #{board_date}, #{board_cnt}, #{category_no}, #{member_no})
	</insert>
	<select id="getAllBoard" resultType="board">
		select b.board_no, c.category_name, m.member_id, b.board_title, b.board_date,  b.board_cnt
		from board b, category c , member m
		where b.category_no = c.category_no
		and b.member_no = m.member_no
		order by b.board_no desc
	</select>
	<select id="selectBoard" parameterType="Integer" resultType="board">
		select c.category_name, m.member_id, b.board_title, b.board_content, b.board_date,  b.board_cnt
		from board b, category c , member m
		where b.category_no = c.category_no
		and b.member_no = m.member_no
		and b.board_no = #{no}
	</select>
</mapper>